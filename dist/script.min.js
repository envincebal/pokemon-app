const pokemonRepository=(()=>{const e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150",o=document.querySelector(".modal"),n=document.querySelector(".overlay");function c(){o.classList.remove("modal-visible"),n.classList.remove("overlay-visible"),o.classList.add("modal")}return{loadList:function(){return fetch(t).then(e=>e.json()).then(t=>{t.results.forEach((t,s)=>{const i={name:t.name.charAt(0).toUpperCase()+t.name.slice(1),detailsUrl:t.url,index:s+1};e.push(i),function(e){const t=document.querySelector("ul"),s=document.createElement("li"),i=document.createElement("button");i.innerText=e.index+". "+e.name,i.classList.add("list-button"),t.appendChild(s),s.appendChild(i),function(e,t){document.querySelector(".modal-close").addEventListener("click",()=>{c()}),window.addEventListener("keydown",e=>{"Escape"===e.key&&o.classList.contains("modal-visible")&&c()}),n.addEventListener("click",e=>{const t=e.target;t===n&&c()}),e.addEventListener("click",()=>{!function(e){const t=document.querySelector(".pokemon-name"),c=document.querySelector(".pokemon-img"),s=document.querySelector(".pokemon-height"),i=document.querySelector(".pokemon-weight"),l=document.querySelector(".pokemon-type");(function(e){const t=e.detailsUrl;return fetch(t).then(e=>e.json()).then(t=>{const o=t.types,n=[];o.forEach(e=>{n.push(e.type.name)}),e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.type=n.join(", ")}).catch(e=>console.log(e))})(e).then(()=>{o.classList.add("modal-visible"),n.classList.add("overlay-visible"),o.classList.remove("modal"),t.textContent=e.name,c.src=e.imageUrl,s.textContent=e.height,i.textContent=e.weight,l.textContent=e.type})}(t)})}(i,e)}(i)})}).catch(e=>{console.log(e)})}}})();pokemonRepository.loadList();