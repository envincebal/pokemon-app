var pokemonRepository=(()=>{var e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150",o=document.querySelector(".modal"),n=document.querySelector(".overlay");function i(){o.classList.remove("modal-visible"),n.classList.remove("overlay-visible"),o.classList.add("modal")}return document.querySelector(".modal-close").addEventListener("click",()=>{i()}),window.addEventListener("keydown",e=>{"Escape"===e.key&&o.classList.contains("modal-visible")&&i()}),n.addEventListener("click",e=>{e.target===n&&i()}),{loadList:function(){return fetch(t).then(e=>e.json()).then(t=>{t.results.forEach((t,o)=>{!function(t){e.push(t)}({name:t.name.charAt(0).toUpperCase()+t.name.slice(1),detailsUrl:t.url,index:o+1})})}).catch(e=>{console.log(e)})},loadDetails:function(e){var t=e.detailsUrl;return fetch(t).then(e=>e.json()).then(t=>{var o=t.types,n=[];o.forEach(e=>{n.push(e.type.name)}),e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.type=n.join(", ")}).catch(e=>console.log(e))},addListItem:function(e){var t=document.querySelector("ul"),i=document.createElement("li"),a=document.createElement("button");a.innerText=e.index+". "+e.name,a.classList.add("list-button"),t.appendChild(i),i.appendChild(a),function(e,t){e.addEventListener("click",()=>{!function(e){var t=document.querySelector(".pokemon-name"),i=document.querySelector(".pokemon-img"),a=document.querySelector(".pokemon-height"),l=document.querySelector(".pokemon-weight"),r=document.querySelector(".pokemon-type");pokemonRepository.loadDetails(e).then(()=>{o.classList.add("modal-visible"),n.classList.add("overlay-visible"),o.classList.remove("modal"),t.textContent=e.name,i.src=e.imageUrl,a.textContent=e.height,l.textContent=e.weight,r.textContent=e.type})}(t)})}(a,e)},getAll:function(){return e}}})();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});